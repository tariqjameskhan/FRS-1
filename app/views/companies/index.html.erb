<div data-controller="insert-in-list">
  <div class="container mt-5">
    <div class="row justify-content-between">
      <div class="col-lg-6">
        <h1 class="mb-3">All Companies</h1>
      </div>
      <div class="col-lg-6">
        <div class="row justify-content-end">
          <%= form_with url: companies_path, method: :get, class: "d-flex", data: { insert_in_list_target: "form", action: "submit->insert-in-list#send" } do %>
            <%= text_field_tag :query,
                  params[:query],
                  class: "form-control mr-2",
                  placeholder: "Type a company"
              %>
            <%= submit_tag "Search", name: "", class: "btn" %>
          <% end %>
        </div>
      </div>
    </div>

    <div class="row">
    <div class="col-lg-12">
      <table class="table table-striped mt-5">
        <thead>
          <tr>
            <th scope="col">*</th>
            <th scope="col">Company name</th>
            <th scope="col">Company address</th>
            <th scope="col">Email</th>
            <th scope="col">Tel</th>
            <th scope="col"></th>
          </tr>
        </thead>
        <tbody>
          <% num = 0 %>
          <% @companies.sort.each do |company| %>
            <tr>
              <th scope="row"><%= num += 1 %></th>
              <td><%= company.name %></td>
              <td><%= company.address %></td>
              <td><%= company.email_address %></td>
              <td><%= company.telephone_number %></td>
              <td><%= link_to 'View', company_path(company), class: "btn"%></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
  <div class="d-flex justify-content-between mt-4">
    <div>
      <%= link_to 'Back', root_path, class: 'btn-big-dark' %>
    </div>
    <div class="justify-content-end">
      <% if current_user.inspector? %>
        <%= link_to 'New Company', new_company_path, class: 'btn-big' %>
      <% end %>
    </div>
  </div>
</div>




<%# <div class="row"> %>
    <%# <% @companies.each do |company| %>
      <%# <div class="col-sm-6 col-md-4 col-lg-3"> %>
        <%# <div class="card mb-4"> %>
          <%# <div class="card-body"> %>
            <%# <h5 class="card-title"><%= company.name %>
            <%# <p class="card-text"> %>
              <%# <strong>Address:</strong> <%= company.address %>
              <%# <strong>Email:</strong> <%= company.email_address %>
              <%# <strong>Telephone:</strong> <%= company.telephone_number %>
            <%# </p> %>
            <%# <%= link_to 'Show', company_path(company), class: 'btn btn-primary' %>
          <%# </div> %>
        <%# </div> %>
      <%# </div> %>
    <%# <% end %>
  <%# </div> %>
